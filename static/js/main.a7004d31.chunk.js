(this["webpackJsonpvending-machine"]=this["webpackJsonpvending-machine"]||[]).push([[0],{12:function(e,t,n){e.exports={flexbox:"coin-sec_flexbox__3GGDJ",stylizedbox:"coin-sec_stylizedbox__1U8_n",moneyDisp:"coin-sec_moneyDisp__1BCV_",coinWrap:"coin-sec_coinWrap__3JgMW",coinInsert:"coin-sec_coinInsert__3vQCt",coinReturn:"coin-sec_coinReturn__oCyIc",trayPart:"coin-sec_trayPart__1Wkqy",rightPart:"coin-sec_rightPart__jMKXD",return_btn:"coin-sec_return_btn__2nUL_",coinInput:"coin-sec_coinInput__s6QKq",first:"coin-sec_first__1APSp",containbox:"coin-sec_containbox__3G7k7",marginBreak:"coin-sec_marginBreak__f7KUk"}},15:function(e,t,n){e.exports={prodCol:"sel-sec_prodCol__2kI_w",imgWarpper:"sel-sec_imgWarpper__q7B7Q",container:"sel-sec_container__1rOD9",containerWrapper:"sel-sec_containerWrapper__2jtBP",prodBox:"sel-sec_prodBox__1Ga21",disabled:"sel-sec_disabled__KIqiR",loading:"sel-sec_loading__1n5m3"}},20:function(e,t,n){e.exports={coin:"coin_coin__wy3xS",tenCoin:"coin_tenCoin__Icnrm",tenCoinInner:"coin_tenCoinInner__39aQy",coinN:"coin_coinN__lWXXN",coinNTen:"coin_coinNTen__3mZ1U"}},37:function(e,t,n){e.exports={canvas:"coin-print_canvas__waIT1"}},39:function(e,t,n){e.exports={app:"app_app__30Ra8",header:"app_header__nG5yP"}},45:function(e,t,n){e.exports=n(56)},46:function(e,t){},47:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);n(46),n(47),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(30),r=n(42),o=n(6),c=n(7),i=n(9),s=n(8),l=n(24),u=n(10),p=n(0),m=n.n(p),d=n(19),h=n(20),_=n.n(h);var E=function(e){var t=e.value,n=e.onClick;return m.a.createElement("div",{className:_.a.coin,onClick:n},m.a.createElement("p",{className:_.a.coinN},t))};var y=function(e){var t=e.onClick;return m.a.createElement("div",{className:_.a.coin+" "+_.a.tenCoin,onClick:t},m.a.createElement("div",{className:_.a.coin+" "+_.a.tenCoinInner},m.a.createElement("p",{className:_.a.coinN+" "+_.a.coinNTen},"10")))},b=n(37),v=n.n(b),f=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:v.a.canvas},function(e){for(var t=[],n=0,a=e[10];a>0;a--)t.push(m.a.createElement("span",{key:n},m.a.createElement(y,null))),n++;for(var r=e[5];r>0;r--)t.push(m.a.createElement("span",{key:n},m.a.createElement(E,{value:5}))),n++;for(var o=e[2];o>0;o--)t.push(m.a.createElement("span",{key:n},m.a.createElement(E,{value:2}))),n++;for(var c=e[1];c>0;c--)t.push(m.a.createElement("span",{key:n},m.a.createElement(E,{value:1}))),n++;return function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}}(t),t}(this.props.coins).map((function(e,t){return m.a.createElement("span",{style:{transform:"translate(".concat(50*Math.random()-25,"px, ").concat(50*Math.random()-25,"px)\n                              scale(0.7)\n                              rotate(").concat(90*Math.random()-45,"deg) ")},className:v.a.coin,key:t},e)})))}}]),t}(p.Component);var C=n(16),g=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"calcChange",value:function(){var e=this.props.money;e-=this.props.product.price;var t=Math.trunc(e/10);e-=10*t;var n=Math.trunc(e/5);e-=5*n;var a=Math.trunc(e/2);return e-=2*a,{tens:t,fives:n,twos:a,ones:Math.trunc(e/1)}}},{key:"render",value:function(){var e,t=this.props.product;return t&&(e=this.calcChange()),m.a.createElement(C.a,{show:this.props.show,onHide:this.props.sumBoxClose},m.a.createElement(C.a.Header,{closeButton:!0},m.a.createElement(C.a.Title,null,"Item Bought!")),m.a.createElement(C.a.Body,null,t&&m.a.createElement(m.a.Fragment,null,m.a.createElement("p",null,m.a.createElement("strong",null,"You bought ",t.name," for ",t.price," baht")),m.a.createElement("p",null,m.a.createElement("strong",null,"You inserted ",this.props.money," baht",this.props.money===t.price?", it's exact!":"")),this.props.money>t.price&&m.a.createElement(m.a.Fragment,null,m.a.createElement("p",null,"Here is your change: ",this.props.money-t.price," baht"),m.a.createElement("p",null,"10 baht coin: ",e.tens),m.a.createElement("p",null,"5 baht coin: ",e.fives),m.a.createElement("p",null,"2 baht coin: ",e.twos),m.a.createElement("p",null,"1 baht coin: ",e.ones),m.a.createElement(f,{coins:{10:e.tens,5:e.fives,2:e.twos,1:e.ones}})),this.props.money===t.price&&m.a.createElement(m.a.Fragment,null,m.a.createElement("p",null,"No change!")))),m.a.createElement(C.a.Footer,null,m.a.createElement(d.a,{variant:"success",onClick:this.props.sumBoxClose},"Ok")))}}]),t}(p.Component),k=n(12),O=n.n(k),j=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:O.a.flexbox},m.a.createElement("div",{className:O.a.containbox},m.a.createElement("div",{className:O.a.stylizedbox},m.a.createElement("div",{className:O.a.moneyDisp},m.a.createElement("p",{id:"money"},m.a.createElement("strong",null,this.props.money))),m.a.createElement("div",{className:O.a.coinInput+" "+O.a.first},m.a.createElement(y,{onClick:function(){return e.props.addMoney(10)},id:"coin_ten_btn"}),m.a.createElement("span",{className:O.a.marginBreak}),m.a.createElement(E,{onClick:function(){return e.props.addMoney(5)},id:"coin_five_btn",value:5})),m.a.createElement("div",{className:O.a.coinInput},m.a.createElement(E,{onClick:function(){return e.props.addMoney(2)},id:"coin_two_btn",value:2}),m.a.createElement("span",{className:O.a.marginBreak}),m.a.createElement(E,{onClick:function(){return e.props.addMoney(1)},id:"coin_one_btn",value:1})),m.a.createElement("div",{className:O.a.trayPart},m.a.createElement("div",{className:O.a.leftPart},m.a.createElement("div",{className:O.a.coinInsert}),m.a.createElement("div",{className:O.a.coinReturn})),m.a.createElement("div",{className:O.a.rightPart},m.a.createElement(d.a,{variant:"warning",onClick:function(){return e.props.handleReturn()},disabled:0===this.props.money,id:O.a.return_btn},"Return"))))))}}]),t}(p.Component),N=n(28),B=n(34),w=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=function(t){return(t?"C":"c")+"oin"+(e.props.coinCount>1?"s":"")};return m.a.createElement(C.a,{show:this.props.show,onHide:this.props.sumBoxClose},m.a.createElement(C.a.Header,{closeButton:!0},m.a.createElement(C.a.Title,null,t(!0)," Returned!")),m.a.createElement(C.a.Body,null,m.a.createElement("p",null,m.a.createElement("strong",null,"Here is your ".concat(t(!1)),": ",this.props.money," baht")),m.a.createElement("p",null,"10 baht coin: ",this.props.coins[10]),m.a.createElement("p",null,"5 baht coin: ",this.props.coins[5]),m.a.createElement("p",null,"2 baht coin: ",this.props.coins[2]),m.a.createElement("p",null,"1 baht coin: ",this.props.coins[1]),m.a.createElement(f,{coins:this.props.coins})),m.a.createElement(C.a.Footer,null,m.a.createElement(d.a,{variant:"success",onClick:this.props.sumBoxClose},"Ok")))}}]),t}(p.Component),x=n(35),M=n(40),W=n(38),S=n(15),I=n.n(S),P=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.product.in_stock?this.props.money<this.props.product.price?m.a.createElement(D,{id:this.props.product.id}):m.a.createElement(d.a,{variant:"secondary",onClick:function(){return e.props.handleBuy(e.props.product)},id:"prod_"+this.props.product.id+"_btn"},"Buy"):m.a.createElement(R,{id:this.props.product.id})}}]),t}(p.Component);function R(e){var t=e.id;return m.a.createElement(M.a,{placement:"bottom",overlay:m.a.createElement(W.a,null,"Out of stock!")},m.a.createElement("span",{className:"d-inline-block"},m.a.createElement(d.a,{variant:"outline-danger",className:I.a.disabled,disabled:!0,id:"prod_"+t+"_btn"},"Buy")))}function D(e){var t=e.id;return m.a.createElement(M.a,{placement:"bottom",overlay:m.a.createElement(W.a,null,"Not Enought Money!")},m.a.createElement("span",{className:"d-inline-block"},m.a.createElement(d.a,{variant:"outline-secondary",className:I.a.disabled,disabled:!0,id:"prod_"+t+"_btn"},"Buy")))}var T=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).imgWarpper=m.a.createRef(),e.state={imgWidth:0},window.addEventListener("resize",(function(){e.setState({imgWidth:e.imgWarpper.current.clientWidth})})),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({imgWidth:this.imgWarpper.current.clientWidth})}},{key:"render",value:function(){var e=this.props,t=e.product,n=e.money;return(m.a.createElement(N.a,{xl:"4",md:"6",xs:"12",className:I.a.prodCol,id:"prod_"+t.id},m.a.createElement("div",{className:I.a.prodBox},m.a.createElement("div",{ref:this.imgWarpper,className:I.a.imgWarpper,style:{height:this.state.imgWidth}},m.a.createElement("img",{src:t.image,alt:t.name,id:"prod_"+t.id+"_img"})),m.a.createElement("h3",{id:"prod_"+t.id+"_name"},t.name),m.a.createElement("p",{id:"prod_"+t.id+"_price"},t.price+" baht"),m.a.createElement(P,{product:t,money:n,handleBuy:this.props.handleBuy}))))}}]),t}(p.Component),F=n(44);function H(){return m.a.createElement("div",{class:I.a.loading},m.a.createElement(F.a,{animation:"border"}))}var G=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:I.a.containerWrapper},m.a.createElement(B.a,{className:I.a.container},m.a.createElement(x.a,null,this.props.products&&this.props.products.map((function(t){return m.a.createElement(T,{product:t,key:t.id,money:e.props.money,handleBuy:e.props.handleBuy})})),!this.props.products&&m.a.createElement(H,null))))}}]),t}(p.Component),q=new(function(){function e(){Object(o.a)(this,e),this.url="https://www.mocky.io/v2/5c77c5b330000051009d64c9"}return Object(c.a)(e,[{key:"getProductList",value:function(){return fetch(this.url).then((function(e){return e.json()}))}}]),e}()),z=n(39),J=n.n(z),K=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).state={productsTotal:null,products:null,money:0,insCoin:{10:0,5:0,2:0,1:0},insCoinCount:0,tempBProd:null,sumShow:!1,retShow:!1},e.addMoney=e.addMoney.bind(Object(l.a)(e)),e.handleBuy=e.handleBuy.bind(Object(l.a)(e)),e.handleReturn=e.handleReturn.bind(Object(l.a)(e)),e.clearState=e.clearState.bind(Object(l.a)(e)),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;q.getProductList().then((function(t){e.setState({productsTotal:t.total,products:t.data})}))}},{key:"addMoney",value:function(e){this.setState({money:this.state.money+e,insCoin:Object(r.a)({},this.state.insCoin,Object(a.a)({},e,this.state.insCoin[e]+1)),insCoinCount:this.state.insCoinCount+1})}},{key:"handleBuy",value:function(e){this.setState({tempBProd:e,sumShow:!0})}},{key:"handleReturn",value:function(){this.setState({retShow:!0})}},{key:"clearState",value:function(){this.setState({money:0,tempBProd:null,sumShow:!1,retShow:!1,insCoin:{10:0,5:0,2:0,1:0},insCoinCount:0})}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("h1",{className:J.a.header},"Vending Machine"),m.a.createElement(B.a,{fluid:!0,className:J.a.app},m.a.createElement(x.a,null,m.a.createElement(N.a,{xs:{span:12,order:2},lg:{span:8,order:1}},m.a.createElement(G,{products:this.state.products,money:this.state.money,handleBuy:this.handleBuy})),m.a.createElement(N.a,{xs:{span:12,order:1},lg:{span:4,order:2}},m.a.createElement(j,{addMoney:this.addMoney,money:this.state.money,handleReturn:this.handleReturn})))),m.a.createElement(g,{show:this.state.sumShow,product:this.state.tempBProd,sumBoxClose:this.clearState,money:this.state.money}),m.a.createElement(w,{show:this.state.retShow,sumBoxClose:this.clearState,money:this.state.money,coinCount:this.state.insCoinCount,coins:this.state.insCoin}))}}]),t}(p.Component),L=n(11);n.n(L).a.render(m.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[45,1,2]]]);